subscription_schema:
  # 飞书应用凭证
  - name: "app_id"
    type: "secret-input"
    required: true
    label:
      en_US: "App ID"
      zh_Hans: "飞书 App ID"
    placeholder:
      en_US: "Enter your Feishu App ID"
      zh_Hans: "输入你的飞书 App ID"
    help:
      en_US: "Your Feishu application ID from the developer console."
      zh_Hans: "位于飞书开发者后台 '凭证与基础信息' 页面的 App ID。"

  - name: "app_secret"
    type: "secret-input"
    required: true
    label:
      en_US: "App Secret"
      zh_Hans: "飞书 App Secret"
    placeholder:
      en_US: "Enter your Feishu App Secret"
      zh_Hans: "输入你的飞书 App Secret"
    help:
      en_US: "Your Feishu application secret from the developer console."
      zh_Hans: "位于飞书开发者后台 '凭证与基础信息' 页面的 App Secret。"

  # 飞书事件订阅验证令牌
  - name: "verification_token"
    type: "secret-input"
    required: true
    label:
      en_US: "Verification Token"
      zh_Hans: "飞书事件验证令牌"
    placeholder:
      en_US: "Enter your Verification Token"
      zh_Hans: "输入你的验证令牌"
    help:
      en_US: "The verification token from Feishu 'Events and Callbacks' page."
      zh_Hans: "位于飞书开发者后台 '事件与回调' 页面的验证令牌。"

  # 飞书事件订阅加密密钥 (强烈推荐配置以提高安全性)
  - name: "encrypt_key"
    type: "secret-input"
    required: false
    label:
      en_US: "Encrypt Key (Recommended)"
      zh_Hans: "飞书事件加密密钥（推荐）"
    placeholder:
      en_US: "Enter your Encrypt Key (leave empty to use plaintext mode)"
      zh_Hans: "输入你的加密密钥（留空则使用明文模式，不推荐）"
    help:
      en_US: "STRONGLY RECOMMENDED: The Encrypt Key from Feishu 'Events and Callbacks' -> 'Security Policy' page. Enables signature verification and payload encryption. Without this, data is transmitted in plaintext (insecure)."
      zh_Hans: "强烈推荐配置：位于飞书开发者后台 '事件与回调' -> '安全策略' 页面的加密密钥。启用签名验证和负载加密。不配置则使用明文传输（不安全）。"

events:
  - events/approval/approval_approved.yaml

identity:
  author: YourName
  description:
    en_US: Feishu (Lark) webhook trigger to receive approval event notifications.
    zh_Hans: 飞书审批 Webhook 触发器，用于接收审批事件通知。
  icon: img.png
  label:
    en_US: Feishu Approval Webhooks
    zh_Hans: 飞书审批 Webhook
  name: feishu_approval_trigger

extra:
  python:
    source: provider/feishu.py
